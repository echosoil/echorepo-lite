# ECHOREPO â€” Example .env (copy to .env and fill real values)
# NOTE: Do NOT commit your real `.env` to git.

# ------------------- Core / Flask -------------------
PROJECT_ROOT=/path/to/echorepo-lite
APP_ENV=dev
PRIVACY_GATE=off
FLASK_DEBUG=1
SECRET_KEY=replace-with-long-random-string
SESSION_COOKIE_SECURE=true
PREFERRED_URL_SCHEME=https

# ------------------- Data paths (inside container) -------------------
SQLITE_PATH=/data/db/echo.db
I18N_SQLITE_PATH=/data/db/i18n.db
CSV_PATH=/data/echorepo_samples_with_email.csv
INPUT_CSV=/data/echorepo_samples.csv
OUTPUT_CSV=/data/echorepo_samples_with_email.csv
USERS_CSV=/data/users.csv
OUTPUT_USERS_CSV=/data/users.csv
PLANNED_XLSX=/data/utils/planned.xlsx

# ------------------- Tables / Columns -------------------
SAMPLE_TABLE=samples
TABLE_NAME=samples
USER_KEY_COLUMN=email
#LAT_COL=GPS_lat
#LON_COL=GPS_long
QR_COL=QR_qrCode
# Map uses jittered
LAT_COL=lat
LON_COL=lon

# Validators use originals
ORIG_LAT_COL=GPS_lat
ORIG_LON_COL=GPS_long

# ------------------- Behavior -------------------
DEMO_MODE=false
DEMO_USER=echosoil@echosoil.eu
MAX_JITTER_METERS=1000
JITTER_SALT=replace-with-long-random-salt
KEEP_ORIGINALS=false
ECHO_FORCE_REBUILD=True

# ------------------- External Services -------------------
# Firebase
FIREBASE_PROJECT_ID=your-firebase-project-id
GOOGLE_APPLICATION_CREDENTIALS=/keys/firebase-sa.json

# Keycloak (browser SSO)
KEYCLOAK_BASE_URL=https://keycloak.example.com
KEYCLOAK_REALM=your-realm
KEYCLOAK_CLIENT_ID=your-client-id
KEYCLOAK_CLIENT_SECRET=replace-with-client-secret
KC_USE_AUTH_PREFIX=false  # set to true if your Keycloak setup requires it, e.g. older versions or proxies
KC_ADMIN_USER=your-kc-admin-name
KC_ADMIN_PASSWORD=your-kc-admin-password

# OAuth2 (machine-to-machine for Data API)
OIDC_ISSUER_URL=https://keycloak.example.com/realms/your_realm
OIDC_AUDIENCE=echorepo-api
OIDC_AUDIENCE_SECRET=replace-with-client-secret-or-remove

# ------------------- API Access for partners -------------------
# API key for /api/v1 endpoints (simple auth). Rotate regularly.
API_KEY=replace-with-api-key

# ------------------- App-specific -------------------
ECHOREPO_PASSWORD=replace-with-some-password

# ------------ Download columns control --------------
HIDE_ORIG_COLS=true
ORIG_COL_SUFFIX=_orig
HIDE_ORIG_LIST=userId, _state

# ------------------- Survey integration -------------------
SURVEY_BASE_URL=https://www.soscisurvey.de/echosurvey3/?q=base 

# ------------------- Asset mirror (MinIO) -------------------
MINIO_ENDPOINT=echorepo-minio:9000
MINIO_ENDPOINT_OUTSIDE=localhost:9000
MINIO_ACCESS_KEY=echorepo
MINIO_SECRET_KEY=echorepo-minio-secret
MINIO_BUCKET=echorepo-uploads
MINIO_SECURE=false
MINIO_ROOT_USER=minio-root-user
MINIO_ROOT_PASSWORD=minio-root-password
LOCAL_STORAGE_DIR=/data/storage
PUBLIC_STORAGE_BASE=http://localhost:18080/storage
MIRROR_VERBOSE=false

# ------------------- Database (PostgreSQL) -------------------
POSTGRES_PASSWORD=echorepo-pass
DB_HOST_INSIDE=echorepo-postgres # Postgres container hostname
DB_PORT_INSIDE=5432
DB_HOST_OUTSIDE=localhost
DB_PORT_OUTSIDE=5432
DB_NAME=echorepo
DB_USER=echorepo
DB_PASSWORD=echorepo-pass

# ------------------- Additional defaults -------------------
DEFAULT_LICENCE=CC-BY-4.0
DEFAULT_LAB_ID=ECHO-LAB-1
LT_ENDPOINT=http://localhost:5001
LT_ENDPOINT_INSIDE=http://libretranslate:5000

# -------------------- Image compression settings -----------
MAX_IMAGE_BYTES=3145728  # 3 MB
MIRROR_OVERWRITE_EXISTING=0
MIRROR_VERBOSE=0

# ------------------- Debug overrides (for development) -------------------
SURVEY_DEBUG_OVERRIDE=false
PRIVACY_DEBUG_OVERRIDE=false

# ------------------- End of .env ---------------------------